"use strict";var currencyRates=document.querySelectorAll(".currency__box-rate"),currencyPercentages=document.querySelectorAll(".currency__box-percentage ");function getPreviousDay(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(t.getTime()),t=(e.setDate(t.getDate()-1),e.getDate()),n=e.getMonth()+1,e=e.getFullYear(),n=n<10?"0"+n:n;return"".concat(e,"-").concat(n,"-").concat(t)}function getToday(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,t=t.getFullYear(),n=n<10?"0"+n:n;return"".concat(t,"-").concat(n,"-").concat(e)}function getCurrencyRate(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:getToday();return fetch("https://api.exchangerate.host/convert?from=".concat(t,"&to=").concat(e,"&date=").concat(n)).then(function(t){if(t.ok)return t.json();throw new Error}).then(function(t){return t.info.rate}).catch(function(){console.log("API ERROR!!!")})}function setCurrencyRate(){currencyRates.forEach(function(e){getCurrencyRate(e.dataset.currency1,e.dataset.currency2).then(function(t){e.textContent=t.toFixed(4)})})}function calcChange(){currencyPercentages.forEach(function(e){var n,c,t=e.dataset.currency1,r=e.dataset.currency2;getCurrencyRate(t,r,getPreviousDay()).then(function(t){return n=t}),getCurrencyRate(t,r).then(function(t){return c=t}),setTimeout(function(){var t=((c-n)/n*100).toFixed(2);0<t?(e.classList.add("plus-color"),e.textContent="+".concat(t,"%")):(0==t?e.classList.add("stagnation-color"):e.classList.add("minus-color"),e.textContent="".concat(t,"%"))},1e3)})}setCurrencyRate(),calcChange();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhc2hib2FyZC5qcyJdLCJuYW1lcyI6WyJjdXJyZW5jeVJhdGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VycmVuY3lQZXJjZW50YWdlcyIsImdldFByZXZpb3VzRGF5IiwiZGF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIkRhdGUiLCJwcmV2aW91cyIsImdldFRpbWUiLCJtb250aEJldGEiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwieWVzdGVyZGF5IiwiZGF5Iiwibm93IiwiZ2V0TW9udGgiLCJjb25jYXQiLCJnZXRDdXJyZW5jeVJhdGUiLCJjdXJyZW5jeTEiLCJjdXJyZW5jeTIiLCJnZXRUb2RheSIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJFcnJvciIsInNldEN1cnJlbmN5UmF0ZSIsImNvbnNvbGUiLCJmb3JFYWNoIiwiZWwiLCJkYXRhc2V0IiwidGV4dENvbnRlbnQiLCJ0b2RheXNWYWx1ZSIsInZhbHVlMSIsInZhbHVlMiIsInZhbHVlIiwicGVyY2VudGFnZSIsInNldFRpbWVvdXQiLCJ0b0ZpeGVkIiwiY2FsY0NoYW5nZSIsImNsYXNzTGlzdCIsImFkZCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsY0FBZ0JDLFNBQVNDLGlCQUFpQix1QkFDMUNDLG9CQUFzQkYsU0FBU0MsaUJBRHJDLDhCQUtBLFNBQVNFLGlCQUFrQyxJQUEzQ0MsRUFBMkMsRUFBQUMsVUFBQUMsYUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUEsSUFBQUcsS0FHcENDLEVBQVcsSUFBSUQsS0FBS0osRUFBS00sV0FJekJDLEdBSE5GLEVBQVFHLFFBQVJSLEVBQXFCUyxVQUFKLEdBR1hGLEVBQVlGLFdBQ1pLLEVBQU9MLEVBQVNNLFdBQXRCLEVBQU1ELEVBQU9MLEVBQVNNLGNBSXJCQyxFQURBQSxFQUFRLEdBQ0YsSUFBQUwsRUFFTkEsRUFJRCxNQUFPTSxHQUFBQSxPQUFQSCxFQUFPRyxLQUFBQSxPQUFQRCxFQUFPQyxLQUFBQSxPQUFQQyxHQUdELFNBRUtGLFdBREosSUFFTUUsRUFBTUMsSUFBSU4sS0FFVkMsRUFBT0ssRUFBSUosVUFEWEosRUFBWVEsRUFBSUMsV0FBYSxFQUcvQlQsRUFBQUEsRUFBWUksY0FDZkMsRUFEREwsRUFFTyxHQUNELElBQUdBLEVBQUFBLEVBS1QsTUFHRCxHQUFBVSxPQUFBUCxFQUFBLEtBQUFPLE9BQUFMLEVBQUEsS0FBQUssT0FBQUgsR0FFQSxTQU1JSSxnQkFBQUMsRUFBQUMsR0FBQSxJQUFBcEIsRUFBQSxFQUFBQyxVQUFBQyxhQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBQW9CLFdBWUgsT0FYU0MsTUFBQSw4Q0FBQUwsT0FDTkUsRUFETSxRQUFBRixPQUNORyxFQURNLFVBQUFILE9BQ05qQixJQVBpQnVCLEtBVWxCQSxTQUFBQSxHQU5BLEdBT0FDLEVBQU9BLEdBWFcsT0FBQUEsRUFhWkMsT0FiUixNQUFBLElBQUFDLFFBVUVILEtBQUssU0FBQUMsR0FVUixPQUFTRyxFQUFBQSxLQUFBQSxPQWRDLE1BZ0JGUixXQVJMUyxRQVNLUixJQUFBQSxrQkFPUCxTQUFBTyxrQkFUQWhDLGNBQWNrQyxRQUFRLFNBQUFDLEdBY0ZELGdCQUhOQyxFQUFBQyxRQUFBWixVQVRLVyxFQUFHQyxRQUFRWCxXQWF2QkQsS0FBWVcsU0FBQUEsR0FUakJBLEVBVURFLFlBQWtCRixFQUFHQyxRQUFRWCxPQUgvQixTQWVRYSxhQWRQbkMsb0JBZWtCK0IsUUFBQSxTQUFBQyxHQWRqQixJQWlCQ0ksRUFiR0MsRUFVa0JoQixFQUFXVyxFQUFHTSxRQUFkakIsVUFBdEJDLEVBQUFVLEVBQUFDLFFBQUFYLFVBTW1CRixnQkFibEJDLEVBQ0FDLEVBQ0FyQixrQkFnQk93QixLQUFBLFNBQUFhLEdBQUEsT0FBQUYsRUFBQUUsSUFFTmxCLGdCQUFvQm1CLEVBQXBCakIsR0FDQUcsS0FBQSxTQUFBYSxHQUFBLE9BQUFELEVBQUFDLElBRUZFLFdBL0JELFdBZ0NBLElBQUFELElBQUFGLEVBQUFELEdBQUFBLEVBQUEsS0FBQUssUUFBQSxHQUVTLEVBQVZDLEdBYklWLEVBQUdXLFVBQVVDLElBQUksY0FDakJaLEVBQUdFLFlBQUgsSUFBQWYsT0FBcUJvQixFQUFyQixPQUN3QixHQUFkQSxFQUNWUCxFQUFHVyxVQUFVQyxJQUFJLG9CQUdqQlosRUFBR1csVUFBVUMsSUFBSSxlQUZqQlosRUFBR0UsWUFBSCxHQUFBZixPQUFvQm9CLEVBQXBCLE9BS0MsT0FqQ0xWLGtCQXFDQWEiLCJmaWxlIjoiZGFzaGJvYXJkLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGN1cnJlbmN5UmF0ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmN1cnJlbmN5X19ib3gtcmF0ZVwiKVxyXG5jb25zdCBjdXJyZW5jeVBlcmNlbnRhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcIi5jdXJyZW5jeV9fYm94LXBlcmNlbnRhZ2UgXCJcclxuKVxyXG5cclxuZnVuY3Rpb24gZ2V0UHJldmlvdXNEYXkoZGF0ZSA9IG5ldyBEYXRlKCkpIHtcclxuXHRsZXQgbW9udGhcclxuXHJcblx0Y29uc3QgcHJldmlvdXMgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSlcclxuXHRwcmV2aW91cy5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMSlcclxuXHJcblx0Y29uc3QgZGF5ID0gcHJldmlvdXMuZ2V0RGF0ZSgpXHJcblx0Y29uc3QgbW9udGhCZXRhID0gcHJldmlvdXMuZ2V0TW9udGgoKSArIDFcclxuXHRjb25zdCB5ZWFyID0gcHJldmlvdXMuZ2V0RnVsbFllYXIoKVxyXG5cclxuXHRpZiAobW9udGhCZXRhIDwgMTApIHtcclxuXHRcdG1vbnRoID0gXCIwXCIgKyBtb250aEJldGFcclxuXHR9IGVsc2Uge1xyXG5cdFx0bW9udGggPSBtb250aEJldGFcclxuXHR9XHJcblxyXG5cdGNvbnN0IHllc3RlcmRheSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWBcclxuXHJcblx0cmV0dXJuIHllc3RlcmRheVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUb2RheSgpIHtcclxuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcblx0bGV0IG1vbnRoXHJcblx0Y29uc3QgZGF5ID0gbm93LmdldERhdGUoKVxyXG5cdGNvbnN0IG1vbnRoQmV0YSA9IG5vdy5nZXRNb250aCgpICsgMVxyXG5cdGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKVxyXG5cclxuXHRpZiAobW9udGhCZXRhIDwgMTApIHtcclxuXHRcdG1vbnRoID0gXCIwXCIgKyBtb250aEJldGFcclxuXHR9IGVsc2Uge1xyXG5cdFx0bW9udGggPSBtb250aEJldGFcclxuXHR9XHJcblxyXG5cdGNvbnN0IHRvZGF5ID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YFxyXG5cclxuXHRyZXR1cm4gdG9kYXlcclxufVxyXG5cclxuLy8gQ1VSUkVOQ1kgUkFURVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3VycmVuY3lSYXRlKGN1cnJlbmN5MSwgY3VycmVuY3kyLCBkYXRlID0gZ2V0VG9kYXkoKSkge1xyXG5cdGNvbnN0IGZldGNoZWREYXRhID0gZmV0Y2goXHJcblx0XHRgaHR0cHM6Ly9hcGkuZXhjaGFuZ2VyYXRlLmhvc3QvY29udmVydD9mcm9tPSR7Y3VycmVuY3kxfSZ0bz0ke2N1cnJlbmN5Mn0mZGF0ZT0ke2RhdGV9YFxyXG5cdClcclxuXHRcdC50aGVuKHJlcyA9PiB7XHJcblx0XHRcdGlmIChyZXMub2spIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmpzb24oKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcigpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHQudGhlbihyZXMgPT4ge1xyXG5cdFx0XHRyZXR1cm4gcmVzLmluZm8ucmF0ZVxyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoKSA9PiB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiQVBJIEVSUk9SISEhXCIpXHJcblx0XHR9KVxyXG5cclxuXHRyZXR1cm4gZmV0Y2hlZERhdGFcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0Q3VycmVuY3lSYXRlKCkge1xyXG5cdGN1cnJlbmN5UmF0ZXMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRjb25zdCBjdXJyZW5jeTEgPSBlbC5kYXRhc2V0LmN1cnJlbmN5MVxyXG5cdFx0Y29uc3QgY3VycmVuY3kyID0gZWwuZGF0YXNldC5jdXJyZW5jeTJcclxuXHJcblx0XHRjb25zdCB2YWx1ZVByb21pc2UgPSBnZXRDdXJyZW5jeVJhdGUoY3VycmVuY3kxLCBjdXJyZW5jeTIpXHJcblx0XHR2YWx1ZVByb21pc2UudGhlbih2YWx1ZSA9PiB7XHJcblx0XHRcdGVsLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCg0KVxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcblxyXG5zZXRDdXJyZW5jeVJhdGUoKVxyXG5cclxuZnVuY3Rpb24gY2FsY0NoYW5nZSgpIHtcclxuXHRjdXJyZW5jeVBlcmNlbnRhZ2VzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0Y29uc3QgY3VycmVuY3kxID0gZWwuZGF0YXNldC5jdXJyZW5jeTFcclxuXHRcdGNvbnN0IGN1cnJlbmN5MiA9IGVsLmRhdGFzZXQuY3VycmVuY3kyXHJcblxyXG5cdFx0bGV0IHZhbHVlMVxyXG5cdFx0bGV0IHZhbHVlMlxyXG5cclxuXHRcdGNvbnN0IHllc3RlcmRheXNWYWx1ZSA9IGdldEN1cnJlbmN5UmF0ZShcclxuXHRcdFx0Y3VycmVuY3kxLFxyXG5cdFx0XHRjdXJyZW5jeTIsXHJcblx0XHRcdGdldFByZXZpb3VzRGF5KClcclxuXHRcdClcclxuXHRcdHllc3RlcmRheXNWYWx1ZS50aGVuKHZhbHVlID0+ICh2YWx1ZTEgPSB2YWx1ZSkpXHJcblxyXG5cdFx0Y29uc3QgdG9kYXlzVmFsdWUgPSBnZXRDdXJyZW5jeVJhdGUoY3VycmVuY3kxLCBjdXJyZW5jeTIpXHJcblx0XHR0b2RheXNWYWx1ZS50aGVuKHZhbHVlID0+ICh2YWx1ZTIgPSB2YWx1ZSkpXHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHBlcmNlbnRhZ2UgPSAoKCh2YWx1ZTIgLSB2YWx1ZTEpIC8gdmFsdWUxKSAqIDEwMCkudG9GaXhlZCgyKVxyXG5cclxuXHRcdFx0aWYgKHBlcmNlbnRhZ2UgPiAwKSB7XHJcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChcInBsdXMtY29sb3JcIilcclxuXHRcdFx0XHRlbC50ZXh0Q29udGVudCA9IGArJHtwZXJjZW50YWdlfSVgXHJcblx0XHRcdH0gZWxzZSBpZiAocGVyY2VudGFnZSA9PSAwKSB7XHJcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChcInN0YWduYXRpb24tY29sb3JcIilcclxuXHRcdFx0XHRlbC50ZXh0Q29udGVudCA9IGAke3BlcmNlbnRhZ2V9JWBcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwibWludXMtY29sb3JcIilcclxuXHRcdFx0XHRlbC50ZXh0Q29udGVudCA9IGAke3BlcmNlbnRhZ2V9JWBcclxuXHRcdFx0fVxyXG5cdFx0fSwgMTAwMClcclxuXHR9KVxyXG59XHJcblxyXG5jYWxjQ2hhbmdlKClcclxuIl19
