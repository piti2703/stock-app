"use strict";var addPurchaseBtn=document.querySelector(".edit__btns-btn"),addPurchaseBox=document.querySelector(".edit__buy"),symbol=document.querySelector(".edit__buy-symbol"),price=document.querySelector(".edit__buy-price"),quantity=document.querySelector(".edit__buy-quantity"),currency=document.querySelector(".edit__buy-currency"),confirmBtn=document.querySelector(".edit__buy-confirm"),errorBox=document.querySelector(".error"),errorBoxText=document.querySelector(".error-text"),errorBoxBtn=document.querySelector(".error-btn"),addSaleBox=document.querySelector(".edit__sale"),addSaleBtn=document.querySelector(".edit__btns-btn2"),selectStock=document.querySelector(".edit__sale-stocks"),sellingPrice=document.querySelector(".edit__sale-price"),confirmBtn2=document.querySelector(".edit__sale-confirm"),buyedStocks=JSON.parse(localStorage.getItem("buyedStocks"))||[],message=document.querySelector(".message");function addToggle(){addPurchaseBox.classList.toggle("edit__buy--active"),addSaleBox.classList.remove("edit__sale--active")}function addToggle2(){addSaleBox.classList.toggle("edit__sale--active"),addPurchaseBox.classList.remove("edit__buy--active")}function checkSymbol(){var e=symbol.value;fetch("https://yfapi.net/v7/finance/options/".concat(e),{method:"GET",url:"https://yfapi.net/v11/finance/quoteSummary/AAPL",params:{modules:"defaultKeyStatistics,assetProfile"},headers:{"x-api-key":"VhcanQxrrj46M9QxaP1s06hfYeVr8LDO7KIr1g1x"}}).then(function(e){return e.json()}).then(function(e){null==e.optionChain.result[0]?(console.log("sumbol jest zły"),errorBox.classList.add("error--active"),errorBoxText.innerHTML="Please enter a <b>valid symbol!</b>"):(console.log("sumbol jest ok"),addPurchase(e.optionChain.result[0].quote.shortName,e.optionChain.result[0].quote.fullExchangeName),clearInputs(),message.classList.add("message--active"),setTimeout(function(){return window.location.reload(!0)},2e3))}).catch(function(e){return console.error(e)})}function checkInputs(){""==symbol.value||""==price.value||""==quantity.value||"-"==currency.value?(console.log("uzupełnij wszystkie pola!"),errorBox.classList.add("error--active"),errorBoxText.textContent="Fill in all fields!"):(console.log("pola uzupełnione"),checkSymbol())}function clearInputs(){addToggle(),symbol.value="",price.value="",quantity.value="",currency.value="-"}function addPurchase(e,t){e={symbol:symbol.value,purchasePrice:price.value,quantity:quantity.value,currency:currency.value,status:"open",salesValue:"",stockName:e,exchangeName:t};buyedStocks.push(e),localStorage.setItem("buyedStocks",JSON.stringify(buyedStocks))}function displayStocks(){buyedStocks.forEach(function(e){var t;"open"==e.status&&(t=document.createElement("option"),selectStock.appendChild(t),t.setAttribute("value",e.symbol),t.innerHTML="\n\t\t\t".concat(e.symbol.toUpperCase(),", quantity: ").concat(e.quantity,"\n\t\t\t"))})}displayStocks();var selectValue=function(){return selectStock.options[selectStock.selectedIndex].value};function addSales(){var t;""==sellingPrice.value||"-"==selectStock.value?(errorBox.classList.add("error--active"),errorBoxText.textContent="Fill in all fields!"):(t=selectValue(),buyedStocks.forEach(function(e){e.symbol==t&&(e.status="close",e.salesValue=(e.quantity*sellingPrice.value).toFixed(2),message.classList.add("message--active"),setTimeout(function(){return window.location.reload(!0)},2e3))})),localStorage.setItem("buyedStocks",JSON.stringify(buyedStocks)),console.log(buyedStocks)}confirmBtn.addEventListener("click",checkInputs),confirmBtn2.addEventListener("click",addSales),addPurchaseBtn.addEventListener("click",addToggle),addSaleBtn.addEventListener("click",addToggle2),errorBoxBtn.addEventListener("click",function(){errorBox.classList.remove("error--active"),errorBoxText.textContent=""});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQuanMiXSwibmFtZXMiOlsiYWRkUHVyY2hhc2VCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRQdXJjaGFzZUJveCIsInN5bWJvbCIsInByaWNlIiwicXVhbnRpdHkiLCJjdXJyZW5jeSIsImNvbmZpcm1CdG4iLCJlcnJvckJveCIsImVycm9yQm94QnRuIiwiYWRkU2FsZUJveCIsImFkZFNhbGVCdG4iLCJzZWxlY3RTdG9jayIsInNlbGxpbmdQcmljZSIsImJ1eWVkU3RvY2tzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGRUb2dnbGUyIiwidG9nZ2xlIiwiY2hlY2tTeW1ib2wiLCJ0eXBlZFN5bWJvbCIsInZhbHVlIiwiZmV0Y2giLCJtZXRob2QiLCJ1cmwiLCJwYXJhbXMiLCJtb2R1bGVzIiwiaGVhZGVycyIsIngtYXBpLWtleSIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJ1bmRlZmluZWQiLCJvcHRpb25DaGFpbiIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJhZGQiLCJlcnJvckJveFRleHQiLCJhZGRQdXJjaGFzZSIsImNsZWFySW5wdXRzIiwicXVvdGUiLCJzaG9ydE5hbWUiLCJmdWxsRXhjaGFuZ2VOYW1lIiwic2V0VGltZW91dCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXJyIiwiZXJyb3IiLCJjaGVja0lucHV0cyIsInRleHRDb250ZW50IiwiYWRkVG9nZ2xlIiwibmV3U3RvY2siLCJleGNoYW5nZU5hbWUiLCJzdGF0dXMiLCJzYWxlc1ZhbHVlIiwicHVyY2hhc2VQcmljZSIsInN0b2NrTmFtZSIsInB1c2giLCJmb3JFYWNoIiwic3RyaW5naWZ5IiwibmV3T3B0aW9uIiwiaW5uZXJIVE1MIiwiZWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJjb25jYXQiLCJ0b1VwcGVyQ2FzZSIsImRpc3BsYXlTdG9ja3MiLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsImFkZFNhbGVzIiwic2VsZWN0ZWRTdG9jayIsInRvRml4ZWQiLCJzZXRJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbmZpcm1CdG4yIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxlQUFpQkMsU0FBU0MsY0FBYyxtQkFDeENDLGVBQWlCRixTQUFTQyxjQUFjLGNBRHhDRixPQUFBQSxTQUFpQkMsY0FBU0MscUJBQzFCQyxNQUFBQSxTQUFpQkYsY0FBU0Msb0JBQzFCRSxTQUFTSCxTQUFTQyxjQUFjLHVCQUNoQ0csU0FBUUosU0FBU0MsY0FBYyx1QkFDL0JJLFdBQVdMLFNBQVNDLGNBQWMsc0JBQ2xDSyxTQUFXTixTQUFTQyxjQUFjLFVBQ2xDTSxhQUFhUCxTQUFTQyxjQUFjLGVBQ3BDTyxZQUFXUixTQUFTQyxjQUFjLGNBRWxDUSxXQUFjVCxTQUFTQyxjQUFjLGVBRXJDUyxXQUFhVixTQUFTQyxjQUFjLG9CQUNwQ1UsWUFBYVgsU0FBU0MsY0FBYyxzQkFDcENXLGFBQWNaLFNBQVNDLGNBQWMscUJBQ3JDWSxZQUFlYixTQUFTQyxjQUFjLHVCQUd0Q2EsWUFBY0MsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxpQkFBcEQsR0FFTUMsUUFBVW5CLFNBQVNDLGNBQWMsWUFFdkMsU0FDQ0MsWUFBQUEsZUFDV2tCLFVBQVVDLE9BQU8scUJBQzVCWCxXQUFBVSxVQUFBQyxPQUFBLHNCQUNELFNBQVNDLGFBQ1JaLFdBQVVVLFVBQVZHLE9BQUEsc0JBQ0FyQixlQUFja0IsVUFBZEMsT0FBQSxxQkFHRCxTQUFTRyxjQUNSLElBQU1DLEVBQWN0QixPQUFPdUIsTUFXM0JDLE1BQUFBLHdDQUFBQSxPQUFLRixHQVRXLENBQ2ZHLE9BQ0ssTUFBTEMsSUFDQUMsa0RBQUFBLE9BQVVDLENBQUFBLFFBQVMscUNBQ25CQyxRQUplLENBS2RDLFlBRFEsOENBTVJDLEtBQWEsU0FBQUMsR0FBSUEsT0FBU0MsRUFBYkEsU0FEZkYsS0FFRUEsU0FBQUEsR0FDSUcsTUFBSkYsRUFBWUcsWUFBUkMsT0FBQSxJQUNIQyxRQUFBQSxJQUFRQyxtQkFDUmpDLFNBQUFBLFVBQVNZLElBQVVzQixpQkFDbkJDLGFBQUFBLFVBQUEsd0NBRUFILFFBQUFBLElBQVFDLGtCQUNSRyxZQUNDVCxFQUdEVSxZQUFXTixPQUFBLEdBQUFPLE1BQUFDLFVBRlZaLEVBR09mLFlBQVVzQixPQUFJLEdBQUFJLE1BQUFFLGtCQUR0QkgsY0FDQTFCLFFBQytDQyxVQUEvQ3NCLElBQUEsbUJBQ0FPLFdBQUEsV0FBQSxPQUFBQyxPQUFBQyxTQUFBQyxRQUFBLElBQUEsUUFoQkgsTUFBQSxTQUFBQyxHQUFBLE9BQUFiLFFBQUFjLE1BQUFELEtBcUJELFNBQVNFLGNBT0ssSUFMWnBELE9BS0FxQyxPQUNTcEIsSUFMVGhCLE1BS0FJLE9BQ2FnRCxJQUxibkQsU0FLQXNDLE9BQ00sS0FBTnJDLFNBQU1vQixPQUhOYyxRQUtBaEIsSUFBQUEsNkJBQ0FoQixTQUFBWSxVQUFBc0IsSUFBQSxpQkFDREMsYUFBQWEsWUFBQSx3QkFFRGhCLFFBQVNLLElBQUFBLG9CQUNSWSxlQURELFNBS0NuRCxjQUNBbUQsWUFKQXRELE9BQU91QixNQUFRLEdBTWhCdEIsTUFBQXNCLE1BQVNrQixHQUpSdkMsU0FLTXFELE1BQVcsR0FKakJwRCxTQUtPb0IsTUFBUSxJQUZoQixTQUtFcEIsWUFBVUEsRUFKTXFELEdBS2hCQyxFQUxnQixDQUNoQnpELE9BS0EwRCxPQUFZbkMsTUFKWm9DLGNBS1dDLE1BQUFBLE1BSlgxRCxTQUtBc0QsU0FBY0EsTUFSRXJELFNBQWpCQSxTQUFBb0IsTUFVQVosT0FBQUEsT0FDQUcsV0FBWSxHQUNaOEMsVUFBQUEsRUFKQ0osYUFBY0EsR0FFZjdDLFlBS1drRCxLQUFDQyxHQUpaaEQsYUFLUTJDLFFBQVUsY0FBUTdDLEtBQUFtRCxVQUFBcEQsY0FGM0IsU0FLR3FELGdCQUpGckQsWUFLRXFELFFBQVVDLFNBQUFBLEdBSlgsSUFRQ0QsRUFETSxRQVBQRSxFQUFBVCxTQVFDTyxFQUFBbkUsU0FBQXNFLGNBQUEsVUFOQTFELFlBT0EyRCxZQUFBSixHQVZGQSxFQUFBSyxhQUFBLFFBQUFILEVBQUFsRSxRQVlBZ0UsRUFBQUMsVUFBQSxXQUFBSyxPQU5JSixFQUFHbEUsT0FBT3VFLGNBTWQsZ0JBQUFELE9BTjBDSixFQUFHaEUsU0FNN0MsZUFTRHNFLGdCQUxBLElBT0VuRSxZQUFTWSxXQUxWLE9BTWNvQyxZQUFjb0IsUUFBQWhFLFlBQTNCaUUsZUFBQW5ELE9BSEYsU0FPR29ELFdBTkYsSUFJT0MsRUFHSixJQVBDbEUsYUFPRGEsT0FBQSxLQUFBZCxZQUFBYyxPQU5GbEIsU0FPS3FELFVBQUhuQixJQUFpQjJCLGlCQU5uQjFCLGFBT1NhLFlBQVAsd0JBTEl1QixFQU1vQjVCLGNBTDFCckMsWUFLaURtRCxRQUEvQyxTQUFBSSxHQUNBQSxFQUFBbEUsUUFBQTRFLElBQ0RWLEVBUERULE9BQUEsUUFRQVMsRUFBQVIsWUFBQVEsRUFBQWhFLFNBQUFRLGFBQUFhLE9BQUFzRCxRQUFBLEdBSkU3RCxRQUFRQyxVQUFVc0IsSUFBSSxtQkFLekJ6QixXQUFhZ0UsV0FBQUEsT0FBQUEsT0FBUTlCLFNBQXJCQyxRQUF5Q2MsSUFBQUEsU0FJMUMzRCxhQUFXMkUsUUFBQUEsY0FBMEIzQixLQUFBQSxVQUFyQ3pDLGNBQ0FxRSxRQUFBQSxJQUFZRCxhQU1aekUsV0FBV3lFLGlCQUFYLFFBQUEzQixhQU5BNEIsWUFPVS9ELGlCQUFpQixRQUFBMEQsVUFFMUIvRSxlQUhEbUYsaUJBQUEsUUFBQXpCLFdBRkE5QyxXQUFXdUUsaUJBQWlCLFFBQVM1RCxZQUVyQ2IsWUFBWXlFLGlCQUFpQixRQUFTLFdBQ3JDMUUsU0FBU1ksVUFBVUMsT0FBTyxpQkFDMUJzQixhQUFhYSxZQUFjIiwiZmlsZSI6ImVkaXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWRkUHVyY2hhc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRfX2J0bnMtYnRuXCIpXHJcbmNvbnN0IGFkZFB1cmNoYXNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0X19idXlcIilcclxuY29uc3Qgc3ltYm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0X19idXktc3ltYm9sXCIpXHJcbmNvbnN0IHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0X19idXktcHJpY2VcIilcclxuY29uc3QgcXVhbnRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRfX2J1eS1xdWFudGl0eVwiKVxyXG5jb25zdCBjdXJyZW5jeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fYnV5LWN1cnJlbmN5XCIpXHJcbmNvbnN0IGNvbmZpcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRfX2J1eS1jb25maXJtXCIpXHJcbmNvbnN0IGVycm9yQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvclwiKVxyXG5jb25zdCBlcnJvckJveFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIilcclxuY29uc3QgZXJyb3JCb3hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLWJ0blwiKVxyXG5cclxuY29uc3QgYWRkU2FsZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fc2FsZVwiKVxyXG5jb25zdCBhZGRTYWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0X19idG5zLWJ0bjJcIilcclxuY29uc3Qgc2VsZWN0U3RvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXRfX3NhbGUtc3RvY2tzXCIpXHJcbmNvbnN0IHNlbGxpbmdQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fc2FsZS1wcmljZVwiKVxyXG5jb25zdCBjb25maXJtQnRuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fc2FsZS1jb25maXJtXCIpXHJcblxyXG5jb25zdCBidXllZFN0b2NrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJidXllZFN0b2Nrc1wiKSkgfHwgW11cclxuXHJcbmNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIilcclxuXHJcbmZ1bmN0aW9uIGFkZFRvZ2dsZSgpIHtcclxuXHRhZGRQdXJjaGFzZUJveC5jbGFzc0xpc3QudG9nZ2xlKFwiZWRpdF9fYnV5LS1hY3RpdmVcIilcclxuXHRhZGRTYWxlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlZGl0X19zYWxlLS1hY3RpdmVcIilcclxufVxyXG5mdW5jdGlvbiBhZGRUb2dnbGUyKCkge1xyXG5cdGFkZFNhbGVCb3guY2xhc3NMaXN0LnRvZ2dsZShcImVkaXRfX3NhbGUtLWFjdGl2ZVwiKVxyXG5cdGFkZFB1cmNoYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlZGl0X19idXktLWFjdGl2ZVwiKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja1N5bWJvbCgpIHtcclxuXHRjb25zdCB0eXBlZFN5bWJvbCA9IHN5bWJvbC52YWx1ZVxyXG5cclxuXHRjb25zdCBvcHRpb25zID0ge1xyXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxyXG5cdFx0dXJsOiBcImh0dHBzOi8veWZhcGkubmV0L3YxMS9maW5hbmNlL3F1b3RlU3VtbWFyeS9BQVBMXCIsXHJcblx0XHRwYXJhbXM6IHsgbW9kdWxlczogXCJkZWZhdWx0S2V5U3RhdGlzdGljcyxhc3NldFByb2ZpbGVcIiB9LFxyXG5cdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcIngtYXBpLWtleVwiOiBcIlZoY2FuUXhycmo0Nk05UXhhUDFzMDZoZlllVnI4TERPN0tJcjFnMXhcIixcclxuXHRcdH0sXHJcblx0fVxyXG5cclxuXHRmZXRjaChgaHR0cHM6Ly95ZmFwaS5uZXQvdjcvZmluYW5jZS9vcHRpb25zLyR7dHlwZWRTeW1ib2x9YCwgb3B0aW9ucylcclxuXHRcdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdC50aGVuKHJlc3BvbnNlID0+IHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlLm9wdGlvbkNoYWluLnJlc3VsdFswXSA9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInN1bWJvbCBqZXN0IHrFgnlcIilcclxuXHRcdFx0XHRlcnJvckJveC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItLWFjdGl2ZVwiKVxyXG5cdFx0XHRcdGVycm9yQm94VGV4dC5pbm5lckhUTUwgPSBgUGxlYXNlIGVudGVyIGEgPGI+dmFsaWQgc3ltYm9sITwvYj5gXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJzdW1ib2wgamVzdCBva1wiKVxyXG5cdFx0XHRcdGFkZFB1cmNoYXNlKFxyXG5cdFx0XHRcdFx0cmVzcG9uc2Uub3B0aW9uQ2hhaW4ucmVzdWx0WzBdLnF1b3RlLnNob3J0TmFtZSxcclxuXHRcdFx0XHRcdHJlc3BvbnNlLm9wdGlvbkNoYWluLnJlc3VsdFswXS5xdW90ZS5mdWxsRXhjaGFuZ2VOYW1lXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdGNsZWFySW5wdXRzKClcclxuXHRcdFx0XHRtZXNzYWdlLmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlLS1hY3RpdmVcIilcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSksIDIwMDApXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbnB1dHMoKSB7XHJcblx0aWYgKFxyXG5cdFx0c3ltYm9sLnZhbHVlID09IFwiXCIgfHxcclxuXHRcdHByaWNlLnZhbHVlID09IFwiXCIgfHxcclxuXHRcdHF1YW50aXR5LnZhbHVlID09IFwiXCIgfHxcclxuXHRcdGN1cnJlbmN5LnZhbHVlID09IFwiLVwiXHJcblx0KSB7XHJcblx0XHRjb25zb2xlLmxvZyhcInV6dXBlxYJuaWogd3N6eXN0a2llIHBvbGEhXCIpXHJcblx0XHRlcnJvckJveC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItLWFjdGl2ZVwiKVxyXG5cdFx0ZXJyb3JCb3hUZXh0LnRleHRDb250ZW50ID0gXCJGaWxsIGluIGFsbCBmaWVsZHMhXCJcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc29sZS5sb2coXCJwb2xhIHV6dXBlxYJuaW9uZVwiKVxyXG5cdFx0Y2hlY2tTeW1ib2woKVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJJbnB1dHMoKSB7XHJcblx0YWRkVG9nZ2xlKClcclxuXHRzeW1ib2wudmFsdWUgPSBcIlwiXHJcblx0cHJpY2UudmFsdWUgPSBcIlwiXHJcblx0cXVhbnRpdHkudmFsdWUgPSBcIlwiXHJcblx0Y3VycmVuY3kudmFsdWUgPSBcIi1cIlxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQdXJjaGFzZShzdG9ja05hbWUsIGV4Y2hhbmdlTmFtZSkge1xyXG5cdGNvbnN0IG5ld1N0b2NrID0ge1xyXG5cdFx0c3ltYm9sOiBzeW1ib2wudmFsdWUsXHJcblx0XHRwdXJjaGFzZVByaWNlOiBwcmljZS52YWx1ZSxcclxuXHRcdHF1YW50aXR5OiBxdWFudGl0eS52YWx1ZSxcclxuXHRcdGN1cnJlbmN5OiBjdXJyZW5jeS52YWx1ZSxcclxuXHRcdHN0YXR1czogXCJvcGVuXCIsXHJcblx0XHRzYWxlc1ZhbHVlOiBcIlwiLFxyXG5cdFx0c3RvY2tOYW1lOiBzdG9ja05hbWUsXHJcblx0XHRleGNoYW5nZU5hbWU6IGV4Y2hhbmdlTmFtZSxcclxuXHR9XHJcblx0YnV5ZWRTdG9ja3MucHVzaChuZXdTdG9jaylcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImJ1eWVkU3RvY2tzXCIsIEpTT04uc3RyaW5naWZ5KGJ1eWVkU3RvY2tzKSlcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGxheVN0b2NrcygpIHtcclxuXHRidXllZFN0b2Nrcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5zdGF0dXMgPT0gXCJvcGVuXCIpIHtcclxuXHRcdFx0Y29uc3QgbmV3T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxyXG5cdFx0XHRzZWxlY3RTdG9jay5hcHBlbmRDaGlsZChuZXdPcHRpb24pXHJcblx0XHRcdG5ld09wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBlbC5zeW1ib2wpXHJcblx0XHRcdG5ld09wdGlvbi5pbm5lckhUTUwgPSBgXHJcblx0XHRcdCR7ZWwuc3ltYm9sLnRvVXBwZXJDYXNlKCl9LCBxdWFudGl0eTogJHtlbC5xdWFudGl0eX1cclxuXHRcdFx0YFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuZGlzcGxheVN0b2NrcygpXHJcblxyXG5jb25zdCBzZWxlY3RWYWx1ZSA9ICgpID0+IHtcclxuXHRjb25zdCBzZWxlY3RlZFZhbHVlID0gc2VsZWN0U3RvY2sub3B0aW9uc1tzZWxlY3RTdG9jay5zZWxlY3RlZEluZGV4XS52YWx1ZVxyXG5cdHJldHVybiBzZWxlY3RlZFZhbHVlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFNhbGVzKCkge1xyXG5cdGlmIChzZWxsaW5nUHJpY2UudmFsdWUgPT0gXCJcIiB8fCBzZWxlY3RTdG9jay52YWx1ZSA9PSBcIi1cIikge1xyXG5cdFx0ZXJyb3JCb3guY2xhc3NMaXN0LmFkZChcImVycm9yLS1hY3RpdmVcIilcclxuXHRcdGVycm9yQm94VGV4dC50ZXh0Q29udGVudCA9IFwiRmlsbCBpbiBhbGwgZmllbGRzIVwiXHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnN0IHNlbGVjdGVkU3RvY2sgPSBzZWxlY3RWYWx1ZSgpXHJcblx0XHRidXllZFN0b2Nrcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdFx0aWYgKGVsLnN5bWJvbCA9PSBzZWxlY3RlZFN0b2NrKSB7XHJcblx0XHRcdFx0ZWwuc3RhdHVzID0gXCJjbG9zZVwiXHJcblx0XHRcdFx0ZWwuc2FsZXNWYWx1ZSA9IChlbC5xdWFudGl0eSAqIHNlbGxpbmdQcmljZS52YWx1ZSkudG9GaXhlZCgyKVxyXG5cdFx0XHRcdG1lc3NhZ2UuY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2UtLWFjdGl2ZVwiKVxyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKSwgMjAwMClcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJidXllZFN0b2Nrc1wiLCBKU09OLnN0cmluZ2lmeShidXllZFN0b2NrcykpXHJcblx0Y29uc29sZS5sb2coYnV5ZWRTdG9ja3MpXHJcbn1cclxuXHJcbmNvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrSW5wdXRzKVxyXG5jb25maXJtQnRuMi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkU2FsZXMpXHJcblxyXG5hZGRQdXJjaGFzZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkVG9nZ2xlKVxyXG5cclxuYWRkU2FsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkVG9nZ2xlMilcclxuXHJcbmVycm9yQm94QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0ZXJyb3JCb3guY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLS1hY3RpdmVcIilcclxuXHRlcnJvckJveFRleHQudGV4dENvbnRlbnQgPSBcIlwiXHJcbn0pXHJcbiJdfQ==
